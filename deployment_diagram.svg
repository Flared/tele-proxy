<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="480px" preserveAspectRatio="none" style="width:970px;height:480px;" version="1.1" viewBox="0 0 970 480" width="970px" zoomAndPan="magnify"><defs><filter height="300%" id="fqt876jitby9q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[599c25d3f5b4009018870dff66b8c01b]
cluster Your Laptop--><polygon fill="#FFFFFF" filter="url(#fqt876jitby9q)" points="16,6,121,6,128,28.2969,367,28.2969,367,473,16,473,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="128" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99" x="20" y="20.9951">Your Laptop</text><!--MD5=[ada27d640f96b4e43df4bc5029d1ade6]
cluster Cluster A - Minikube--><polygon fill="#FFFFFF" filter="url(#fqt876jitby9q)" points="109,49,277,49,284,71.2969,343,71.2969,343,252,109,252,109,49" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="109" x2="284" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="113" y="63.9951">Cluster A - Minikube</text><!--MD5=[aaeeff8077ebd7be94b735b27cfa8568]
cluster Cluster B - Remote--><polygon fill="#FFFFFF" filter="url(#fqt876jitby9q)" points="391,376,549,376,556,398.2969,559,398.2969,559,473,391,473,391,376" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="391" x2="556" y1="398.2969" y2="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="152" x="395" y="390.9951">Cluster B - Remote</text><!--MD5=[a22ed32bff09cc64b95492a1c1fbb908]
entity teleproxy--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="110" x="241" y="300.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="331" y="305.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329" y="307.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329" y="311.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="256" y="333.4951">teleproxy</text><!--MD5=[5e0fc243325f55d9a481393b5245a6b6]
entity telepresence local--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="173" x="32.5" y="300.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="185.5" y="305.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="183.5" y="307.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="183.5" y="311.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="47.5" y="333.4951">telepresence local</text><!--MD5=[ed4f0872d924f3f5139f70f34aa162b9]
entity kubectl config--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="144" x="207" y="411"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="331" y="416"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329" y="418"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329" y="422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="222" y="443.9951">kubectl config</text><!--MD5=[0a6680cd897cb54006fe44013d3c0477]
entity telepresence incluster--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="202" x="125" y="190"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="307" y="195"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="305" y="197"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="305" y="201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="140" y="222.9951">telepresence incluster</text><!--MD5=[119489c6950d2715d3b592a696b94b14]
entity client pod--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="191.5" y="84"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="284.5" y="89"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="282.5" y="91"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="282.5" y="95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="206.5" y="116.9951">client pod</text><!--MD5=[17cd1ff36eeea05c4518762bff46d986]
entity target pod--><rect fill="#FEFECE" filter="url(#fqt876jitby9q)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="407" y="411"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="505" y="416"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="503" y="418"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="503" y="422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="422" y="443.9951">target pod</text><path d="M383,193 L383,209 L327.062,213 L383,217 L383,233.2656 A0,0 0 0 0 383,233.2656 L597,233.2656 A0,0 0 0 0 597,233.2656 L597,203 L587,193 L383,193 A0,0 0 0 0 383,193 " fill="#FBFB77" filter="url(#fqt876jitby9q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M587,193 L587,203 L597,203 L587,193 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="389" y="210.0669">Replaces source_deployment.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="389" y="225.1997">(someservice in our example)</text><path d="M386.5,311 L386.5,336.1328 L691.5,336.1328 L691.5,321 L681.5,311 L386.5,311 " fill="#FBFB77" filter="url(#fqt876jitby9q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M681.5,311 L681.5,321 L691.5,321 L681.5,311 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="392.5" y="328.0669">Receives traffic from telepresence incluster.</text><path d="M727,296 L727,351.3984 L961,351.3984 L961,306 L951,296 L727,296 " fill="#FBFB77" filter="url(#fqt876jitby9q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M951,296 L951,306 L961,306 L951,296 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="733" y="313.0669">Runs `kubectl port-forward` and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="733" y="328.1997">mounts your local kubectl config.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="733" y="343.3325">(files &amp; env vars)</text><path d="M383.5,87 L383.5,103 L304.703,107 L383.5,111 L383.5,127.2656 A0,0 0 0 0 383.5,127.2656 L720.5,127.2656 A0,0 0 0 0 720.5,127.2656 L720.5,97 L710.5,87 L383.5,87 A0,0 0 0 0 383.5,87 " fill="#FBFB77" filter="url(#fqt876jitby9q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M710.5,87 L710.5,97 L720.5,97 L710.5,87 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="389.5" y="104.0669">Normally uses source_deployment but now using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="389.5" y="119.1997">the replacement pod without noticing.</text><!--MD5=[de6bdf553890d22581dfe65ab1830956]
link telepresence incluster to telepresence local--><path d="M204.089,236.218 C186.778,253.772 162.593,278.295 144.43,296.713 " fill="none" id="telepresence incluster-to-telepresence local" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="140.882,300.311,150.0499,296.7124,144.3932,296.7513,144.3543,291.0945,140.882,300.311" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f4ba5a7d177b8d6996e4888f16c8b3]
link telepresence local to teleproxy--><path d="M205.771,323.5 C215.676,323.5 225.581,323.5 235.485,323.5 " fill="none" id="telepresence local-to-teleproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="240.665,323.5,231.665,319.5,235.665,323.5,231.665,327.5,240.665,323.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f043146408407c7bbb87eb6253afa778]
link teleproxy to target pod--><path d="M332.62,346.636 C343.71,353.419 355.892,360.953 367,368 C387.327,380.896 409.768,395.591 428.138,407.743 " fill="none" id="teleproxy-to-target pod" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="432.717,410.775,427.4207,402.4714,428.5479,408.0148,423.0045,409.142,432.717,410.775" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2885a7b8db2605e4111fa479b35c2f9f]
link teleproxy to kubectl config--><path d="M292.519,346.718 C289.837,363.833 286.118,387.574 283.259,405.8205 " fill="none" id="teleproxy-to-kubectl config" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="282.477,410.8113,287.8221,402.5391,283.2511,405.8716,279.9186,401.3005,282.477,410.8113" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[eab29268964ec85d7555492b7a4f99e4]
link client pod to telepresence incluster--><path d="M243.334,130.056 C239.951,146.05 235.355,167.778 231.745,184.842 " fill="none" id="client pod-to-telepresence incluster" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="230.659,189.976,236.4366,181.9998,231.6947,185.0845,228.6101,180.3426,230.659,189.976" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fe8ae72b1e17c9fad31b39f75247bd88]
link GMN2853 to telepresence local--><path d="M504.875,310.954 C449.319,292.175 335.927,260.718 240.5,278 C216.009,282.435 190.024,291.519 168.397,300.412 " fill="none" id="GMN2853-telepresence local" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[902ab375d8aa21ffcb33637b23440a1f]
link teleproxy to GMN2856--><path d="M332.366,300.34 C348.322,291.494 367.678,282.465 386.5,278 C452.447,262.355 624.433,268.208 691.5,278 C716.652,281.672 743.421,288.581 767.397,295.927 " fill="none" id="teleproxy-GMN2856" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[4e56a9fa1a5a2109ea6adaadb03baa67]
@startuml
package "Your Laptop" {

    [teleproxy]
    [telepresence local]
    [kubectl config]

    package "Cluster A - Minikube" {
        [telepresence incluster]
        [client pod]
    }

}

package "Cluster B - Remote" {
    [target pod]
}

[telepresence incluster] - -> [telepresence local]
[telepresence local] -> [teleproxy]
[teleproxy] - -> [target pod]
[teleproxy] - -> [kubectl config]
[client pod] - -> [telepresence incluster]

note left of [telepresence incluster]
  Replaces source_deployment.
  (someservice in our example)
endnote

note left of [telepresence local]: Receives traffic from telepresence incluster.

note right of [teleproxy]
    Runs `kubectl port-forward` and 
    mounts your local kubectl config.
    (files & env vars)
endnote

note right of [client pod]
 Normally uses source_deployment but now using
 the replacement pod without noticing.
endnote
@enduml

PlantUML version 1.2021.3(Mon Mar 22 16:53:19 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>